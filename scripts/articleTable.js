var myArray = [
    //{'title':'TITLE', 'type': 'TYPE', 'published':new Date('DATE'), 'url':'/Articles/URL.html', 'thumb': '/img/thumbnails/article/thumbnailsizetemplate.png'},
    
    {'title':'Ranking Every Game I Played in 2020', 'type': 'List', 'published':new Date('1/2/2021'), 'url':'/Articles/List2020.html', 'thumb': '/img/thumbnails/article/List2020.png'},
    {'title':'Fixing Fall Guys: Making a Great Game Even Better', 'type': 'Essay', 'published':new Date('8/10/2020'), 'url':'/Articles/EssayFixingFallGuys.html', 'thumb': '/img/thumbnails/article/EssayFixingFallGuys.png'},
    {'title':'Ranking Every Game I Played in 2019', 'type': 'List', 'published':new Date('1/1/2020'), 'url':'/Articles/List2019.html', 'thumb': '/img/thumbnails/article/List2019.png'},
    {'title':'Top 10 BEST Games of 2018', 'type': 'List', 'published':new Date('1/1/2019'), 'url':'/Articles/List2018Best.html', 'thumb': '/img/thumbnails/article/List2018Best.png'},
    {'title':'Top 10 WORST Games of 2018', 'type': 'List', 'published':new Date('1/1/2019'), 'url':'/Articles/List2018Worst.html', 'thumb': '/img/thumbnails/article/List2018Worst.png'},
    {'title':'Chuchel', 'type': 'Indie Spotlight', 'published':new Date('7/23/2018'), 'url':'/Articles/ISChuchel.html', 'thumb': '/img/thumbnails/article/ISChuchel.png'},
    {'title':'Darwin Project', 'type': 'Indie Spotlight', 'published':new Date('7/2/2018'), 'url':'/Articles/ISDarwinProject.html', 'thumb': '/img/thumbnails/article/ISDarwinProject.png'},
    {'title':'Florence', 'type': 'Indie Spotlight', 'published':new Date('6/4/2018'), 'url':'/Articles/ISFlorence.html', 'thumb': '/img/thumbnails/article/ISFlorence.png'},
    {'title':'Doki Doki Literature Club', 'type': 'Indie Spotlight', 'published':new Date('5/7/2018'), 'url':'/Articles/ISDokiDokiLiteratureClub.html', 'thumb': '/img/thumbnails/article/ISDokiDokiLiteratureClub.png'},
    {'title':'How Cuphead Uses Music To Mess With Your Head', 'type': 'Essay', 'published':new Date('4/2/2018'), 'url':'/Articles/EssayCuphead.html', 'thumb': '/img/thumbnails/article/EssayCuphead.png'},
    {'title':'BombTag', 'type': 'Indie Spotlight', 'published':new Date('3/12/2018'), 'url':'/Articles/ISBombTag.html', 'thumb': '/img/thumbnails/article/ISBombTag.png'},
    {'title':'Shadow of the Colossus and Minimalism', 'type': 'Essay', 'published':new Date('2/26/2018'), 'url':'/Articles/EssayShadowOfTheColossus.html', 'thumb': '/img/thumbnails/article/EssayShadowOfTheColossus.png'},
    {'title':'A Raven Monologue', 'type': 'Indie Spotlight', 'published':new Date('2/12/2018'), 'url':'/Articles/ISARavenMonologue.html', 'thumb': '/img/thumbnails/article/ISARavenMonologue.png'},
    {'title':'Monument Valley 2', 'type': 'Indie Spotlight', 'published':new Date('1/15/2018'), 'url':'/Articles/ISMonumentValley2.html', 'thumb': '/img/thumbnails/article/ISMonumentValley2.png'},
    {'title':'Top 10 BEST Games of 2017', 'type': 'List', 'published':new Date('1/1/2018'), 'url':'/Articles/List2017Best.html', 'thumb': '/img/thumbnails/article/List2017Best.png'},
    {'title':'Top 10 WORST Games of 2017', 'type': 'List', 'published':new Date('1/1/2018'), 'url':'/Articles/List2017Worst.html', 'thumb': '/img/thumbnails/article/List2017Worst.png'},
    {'title':'Breath of the Wild VS Horizon Zero Dawn - Open World Design and Innovation', 'type': 'Essay', 'published':new Date('12/18/2017'), 'url':'/Articles/EssayOpenWorldDesign.html', 'thumb': '/img/thumbnails/article/EssayOpenWorldDesign.png'},
    {'title':'The First Tree', 'type': 'Indie Spotlight', 'published':new Date('12/5/2017'), 'url':'/Articles/ISTheFirstTree.html', 'thumb': '/img/thumbnails/article/ISTheFirstTree.png'},
    {'title':'Super Fancy Pants Adventure', 'type': 'Indie Spotlight', 'published':new Date('11/20/2017'), 'url':'/Articles/ISSuperFancyPantsAdventure.html', 'thumb': '/img/thumbnails/article/ISSuperFancyPantsAdventure.png'},
    {'title':'Hex', 'type': 'Indie Spotlight', 'published':new Date('11/6/2017'), 'url':'/Articles/ISHex.html', 'thumb': '/img/thumbnails/article/ISHex.png'},
    {'title':'OLDTV', 'type': 'Indie Spotlight', 'published':new Date('10/23/2017'), 'url':'/Articles/ISOLDTV.html', 'thumb': '/img/thumbnails/article/ISOLDTV.png'},
    {'title':'Rivals of Aether', 'type': 'Indie Spotlight', 'published':new Date('10/9/2017'), 'url':'/Articles/ISRivalsOfAether.html', 'thumb': '/img/thumbnails/article/ISRivalsOfAether.png'},
    {'title':'Sword With Sauce', 'type': 'Indie Spotlight', 'published':new Date('9/25/2017'), 'url':'/Articles/ISSwordWithSauce.html', 'thumb': '/img/thumbnails/article/ISSwordWithSauce.png'},
    {'title':'Ultimate Epic Battle Simulator', 'type': 'Indie Spotlight', 'published':new Date('9/11/2017'), 'url':'/Articles/ISUltimateEpicBattleSimulator.html', 'thumb': '/img/thumbnails/article/ISUltimateEpicBattleSimulator.png'},
    {'title':'Flower Makes Artistry Interactive', 'type': 'Essay', 'published':new Date('8/28/2017'), 'url':'/Articles/EssayFlower.html', 'thumb': '/img/thumbnails/article/EssayFlower.png'},
    {'title':'Scanner Sombre', 'type': 'Indie Spotlight', 'published':new Date('5/22/2017'), 'url':'/Articles/ISScannerSombre.html', 'thumb': '/img/thumbnails/article/ISScannerSombre.png'},
    {'title':'Edith Finch and Making an Effective "Walking Simulator"', 'type': 'Essay', 'published':new Date('5/9/2017'), 'url':'/Articles/EssayEdithFinch.html', 'thumb': '/img/thumbnails/article/EssayEdithFinch.png'},
    {'title':'Dawn', 'type': 'Indie Spotlight', 'published':new Date('4/10/2017'), 'url':'/Articles/ISDawn.html', 'thumb': '/img/thumbnails/article/ISDawn.png'},
    {'title':'The Hidden Meaning Behind Playdead\'s Inside', 'type': 'Essay', 'published':new Date('3/27/2017'), 'url':'/Articles/EssayInside.html', 'thumb': '/img/thumbnails/article/EssayInside.png'},
    {'title':'How Donkey Kong Creates Tension', 'type': 'Essay', 'published':new Date('12/5/2016'), 'url':'/Articles/EssayDonkeyKong.html', 'thumb': '/img/thumbnails/article/EssayDonkeyKong.png'},
    {'title':'Limbo and Atmosphere', 'type': 'Essay', 'published':new Date('6/27/2016'), 'url':'/Articles/EssayLimbo.html', 'thumb': '/img/thumbnails/article/EssayLimbo.png'}
]

$('th').on('click', function(){
    var column = $(this).data('column')
    var order = $(this).data('order')
    var text = $(this).html()
    text = text.substring(0, text.length - 1)

    if(column == 'title')
    {
        if(order == 'desc'){
            $(this).data('order', "asc")
            myArray = myArray.sort((a,b) => a[column] > b[column] ? 1 : -1)
            text += '&#9660'
    
        }else{
            $(this).data('order', "desc")
            myArray = myArray.sort((a,b) => a[column] < b[column] ? 1 : -1)
            text += '&#9650'
    
        }
    }
    else
    {
        if(order == 'desc'){
            $(this).data('order', "asc")
            myArray = myArray.slice().sort((a,b) => a[column] > b[column] ? 1 : -1)
            text += '&#9660'
    
        }else{
            $(this).data('order', "desc")
            myArray = myArray.slice().sort((a,b) => a[column] < b[column] ? 1 : -1)
            text += '&#9650'
    
        }
    }
    
    $(this).html(text)
    buildTable(myArray)
})

buildTable(myArray)

function buildTable(data){
    var table = document.getElementById('myTable')
    table.innerHTML = ''
    for (var i = 0; i < data.length; i++){
        var row = `<tr>
                        <td><a href="${data[i].url}"><img src="${data[i].thumb}" class="thumb-article"></a></td>
                        <td><a href="${data[i].url}">${data[i].title}</a></td>
                        <td>${data[i].type}</td>
                        <td>${formatDate(data[i].published)}</td>
                  </tr>`
        table.innerHTML += row


    }
}

function formatDate(date){
    return (date.getMonth() + 1) + 
    "/" +  date.getDate() +
    "/" +  date.getFullYear();
}